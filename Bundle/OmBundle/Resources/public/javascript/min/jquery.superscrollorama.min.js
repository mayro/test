!function(t){t.superscrollorama=function(s){function e(){t("html, body").animate({scrollTop:0},0),t(window).scroll(function(){p=!0}),function s(){p&&(i(),p=!1),setTimeout(s,100)}()}function i(){var s,e,i,o=n.settings.isVertical?t(window).scrollTop():t(window).scrollLeft(),p=n.settings.isVertical?-t(window).height()/2:-t(window).width()/2,f=r.length;for(s=0;f>s;s++){var c=r[s],l=c.target,g=c.offset;"string"==typeof l?(e=n.settings.isVertical?t(l).offset().top:t(l).offset().left,g+=p):"number"==typeof l?e=l:(e=n.settings.isVertical?l.offset().top:l.offset().left,g+=p),e+=g,i=c.dur?e+c.dur:e,o>e&&i>o&&"TWEENING"!==c.state?(c.state="TWEENING",c.start=e,c.end=i,c.tween.progress((o-c.start)/(c.end-c.start)).pause()):e>o&&"BEFORE"!==c.state?(c.tween.reverse(),c.state="BEFORE"):o>i&&"AFTER"!==c.state?(c.tween.play(),c.state="AFTER"):"TWEENING"===c.state&&c.tween.progress((o-c.start)/(c.end-c.start)).pause()}var u=a.length;for(s=0;u>s;s++){var E=a[s],d=E.el,w=d.outerHeight();"PINNED"!=E.state?(e=E.spacer?n.settings.isVertical?E.spacer.offset().top:E.spacer.offset().left:n.settings.isVertical?d.offset().top:d.offset().left,e+=E.offset,i=e+E.dur,o>e&&i>o&&(E.state="PINNED",E.origPositionVal=n.settings.isVertical?d.css("top"):d.css("left"),E.origPositionVal="auto"===E.origPositionVal?0:parseInt(E.origPositionVal,10),d.css("position","fixed"),n.settings.isVertical?d.css("top",-E.offset):d.css("left",-E.offset),E.pinStart=e,E.pinEnd=i,E.spacer&&E.spacer.css("height",E.dur+w),E.onPin&&E.onPin())):o<E.pinStart||o>E.pinEnd?(E.state=o<E.pinStart?"BEFORE":"AFTER",E.anim&&"BEFORE"===E.state?E.anim.progress(0):E.anim&&"AFTER"===E.state&&E.anim.progress(1),d.css("position",E.origPosition),n.settings.isVertical?d.css("top",E.origPositionVal):d.css("left",E.origPositionVal),E.spacer&&E.spacer.css("height",o<E.pinStart?0:E.dur),E.onUnpin&&E.onUnpin()):E.anim&&E.anim.progress((o-E.pinStart)/(E.pinEnd-E.pinStart))}}var n=this,o={isVertical:!0};n.settings=t.extend({},o,s);{var r=[],a=[],p=!1;new TimelineLite}return n.addTween=function(t,s,e,i){return s.pause(),r.push({target:t,tween:s,offset:i||0,dur:e||0,state:"BEFORE"}),n},n.pin=function(s,e,i){"string"==typeof s&&(s=t(s)),i.anim&&i.anim.pause();var o=null;return("relative"===s.css("position")||"static"===s.css("position"))&&(o=t('<div class="pin-spacer"></div>'),s.before(o)),a.push({el:s,state:"BEFORE",dur:e,offset:i.offset||0,anim:i.anim,origPosition:s.css("position"),spacer:o,onPin:i.onPin,onUnpin:i.onUnpin}),n},e(),n}}(jQuery);